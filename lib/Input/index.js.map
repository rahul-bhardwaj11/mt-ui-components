{"version":3,"sources":["../../src/Input/index.js"],"names":["noop","undefined","isString","value","MtInput","theme","colors","ALTO","SILVER","DISABLE","Input","props","handleValue","trimmedValue","trim","length","maxLength","substring","onChange","event","target","setState","moveCaretAtEnd","temp_value","e","onFocus","state","newProps","newValue","errors","maxLengthClassName","Component","propTypes","placeholder","PropTypes","string","oneOfType","bool","number","func","type","oneOf","array","defaultProps","TextArea","AntInput"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,OAAO,SAAPA,IAAO;AAAA,SAAMC,SAAN;AAAA,CAAb;;AAEA,IAAMC,WAAW,SAAXA,QAAW,QAAS;AACxB,SAAO,OAAOC,KAAP,KAAiB,QAAxB;AACD,CAFD;;AAIA,IAAMC;AAAA;AAAA;AAAA,6jBAwBkBC,gBAAMC,MAAN,CAAaC,IAxB/B,EA4BgBF,gBAAMC,MAAN,CAAaE,MA5B7B,EAiCgBH,gBAAMC,MAAN,CAAaE,MAjC7B,EAuCcH,gBAAMC,MAAN,CAAaG,OAvC3B,EAyCOJ,gBAAMC,MAAN,CAAaE,MAzCpB,EA2CgBH,gBAAMC,MAAN,CAAaG,OA3C7B,CAAN;;IAmDMC,K;;;AAmBJ,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA,oIACXA,KADW;;AAAA,UAOnBC,WAPmB,GAOL,iBAAS;AACrB,UAAIC,eAAeX,SAASC,KAAT,IAAkBA,MAAMW,IAAN,EAAlB,GAAiCX,KAApD;AACAU,qBAAeA,gBAAgB,EAA/B;AACAV,cAAQU,aAAaE,MAAb,GAAsBZ,KAAtB,GAA8BU,YAAtC;AAHqB,UAIbG,SAJa,GAIC,MAAKL,KAJN,CAIbK,SAJa;;AAKrB,UAAIA,SAAJ,EAAe;AACb,eAAOA,aAAab,MAAMY,MAAnB,GAA4BZ,KAA5B,GAAoCA,MAAMc,SAAN,CAAgB,CAAhB,EAAmBD,SAAnB,CAA3C;AACD;AACD,aAAOb,KAAP;AACD,KAhBkB;;AAAA,UAkBnBe,QAlBmB,GAkBR,iBAAS;AAAA,UACVA,QADU,GACG,MAAKP,KADR,CACVO,QADU;;AAElB,UAAMf,QAAQ,MAAKS,WAAL,CAAiBO,MAAMC,MAAN,CAAajB,KAA9B,CAAd;AACA,YAAKkB,QAAL,CAAc,EAAElB,YAAF,EAAd;AACAe,eAASC,KAAT,EAAgBhB,KAAhB;AACD,KAvBkB;;AAAA,UAyBnBmB,cAzBmB,GAyBF,aAAK;AACpB,UAAIC,aAAaC,EAAEJ,MAAF,CAASjB,KAA1B;AACAqB,QAAEJ,MAAF,CAASjB,KAAT,GAAiB,EAAjB;AACAqB,QAAEJ,MAAF,CAASjB,KAAT,GAAiBoB,UAAjB;AACA,YAAKZ,KAAL,CAAWc,OAAX,CAAmBD,CAAnB;AACD,KA9BkB;;AAEjB,UAAKE,KAAL,GAAa;AACXvB,aAAO,MAAKS,WAAL,CAAiB,MAAKD,KAAL,CAAWR,KAA5B;AADI,KAAb;AAFiB;AAKlB;;;;yCA2BoB;AAAA,yBACI,KAAKQ,KADT,CACXR,KADW;AAAA,UACXA,KADW,gCACH,EADG;;AAEnB,WAAKkB,QAAL,CAAc,EAAElB,OAAO,KAAKS,WAAL,CAAiBT,KAAjB,CAAT,EAAd;AACD;;;8CAEyBwB,Q,EAAU;AAAA,UAC1BxB,KAD0B,GAChB,KAAKQ,KADW,CAC1BR,KAD0B;AAAA,UAErByB,QAFqB,GAERD,QAFQ,CAE5BxB,KAF4B;;AAGlC,UAAIyB,aAAazB,KAAjB,EAAwB;AACtB,aAAKkB,QAAL,CAAc,EAAElB,OAAO,KAAKS,WAAL,CAAiBgB,QAAjB,CAAT,EAAd;AACD;AACF;;;6BAEQ;AAAA;;AAAA,mBAC2C,KAAKjB,KADhD;AAAA,UACCkB,MADD,UACCA,MADD;AAAA,UACSb,SADT,UACSA,SADT;AAAA,UACoBc,kBADpB,UACoBA,kBADpB;AAAA,UAEC3B,KAFD,GAEW,KAAKuB,KAFhB,CAECvB,KAFD;;AAGP,aACE;AAAC,eAAD;AAAA;AACE,sCAAC,eAAD,6BACM,KAAKQ,KADX;AAEE,iBAAOR,KAFT;AAGE,oBAAU,KAAKe,QAHjB;AAIE,mBAAS,KAAKI;AAJhB,WADF;AAOE;AAAA;AAAA;AACE,iBAAI,WADN;AAEE,uBAAW,wFACN,cADM,EACWN,SADX,0DACgC,CAACA,SADjC,iBAETc,kBAFS;AAFb;AAOGd,uBAAaA,YAAYb,MAAMY;AAPlC,SAPF;AAgBE;AAAA;AAAA;AACE,iBAAI,OADN;AAEE,uBAAW,0BAAWc,OAAO,CAAP,IAAY,OAAZ,GAAsB,UAAjC;AAFb;AAIGA,iBAAO,CAAP;AAJH;AAhBF,OADF;AAyBD;;;EA5FiBE,gB;;AAAdrB,K,CACGsB,S,GAAY;AACjBC,eAAaC,oBAAUC,MADN;AAEjBnB,aAAWkB,oBAAUE,SAAV,CAAoB,CAACF,oBAAUG,IAAX,EAAiBH,oBAAUI,MAA3B,CAApB,CAFM;AAGjBR,sBAAoBI,oBAAUC,MAHb;AAIjBjB,YAAUgB,oBAAUK,IAJH;AAKjBd,WAASS,oBAAUK,IALF;AAMjBpC,SAAO+B,oBAAUE,SAAV,CAAoB,CAACF,oBAAUI,MAAX,EAAmBJ,oBAAUC,MAA7B,CAApB,CANU;AAOjBK,QAAMN,oBAAUO,KAAV,CAAgB,CAAC,MAAD,EAAS,QAAT,EAAmB,UAAnB,EAA+B,MAA/B,CAAhB,CAPW;AAQjBZ,UAAQK,oBAAUQ;AARD,C;AADfhC,K,CAYGiC,Y,GAAe;AACpBzB,YAAUlB,IADU;AAEpByB,WAASzB,IAFW;AAGpB6B,UAAQ,EAHY;AAIpBW,QAAM;AAJc,C;;AAkFxB9B,MAAMkC,QAAN,GAAiBC,gBAASD,QAA1B;kBACelC,K","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport AntInput from 'antd/lib/input';\nimport 'antd/lib/input/style/index.css';\nimport styled from 'styled-components';\nimport theme from '../styles/theme';\nimport classnames from 'classnames';\n\nconst noop = () => undefined;\n\nconst isString = value => {\n  return typeof value === 'string';\n};\n\nconst MtInput = styled.div`\n  .counterStyle {\n    color: #696969;\n    font-size: 12px;\n    margin-left: 0;\n    padding: 4px 8px;\n    border: 1px solid #ccc;\n    border-left: none;\n    line-height: 20px;\n    float: left;\n  }\n  .displayN {\n    display: none;\n  }\n\n  .error {\n    font-size: 12px;\n    bottom: -24px;\n    left: 8px;\n    position: absolute;\n    color: #c63434;\n    font-weight: bold;\n  }\n  .ant-input {\n    border: 1px solid ${theme.colors.ALTO};\n  }\n  .ant-input {\n    &:hover {\n      border-color: ${theme.colors.SILVER};\n    }\n  }\n  .ant-input {\n    &:focus {\n      border-color: ${theme.colors.SILVER};\n      outline: 0;\n      box-shadow: 0 0 0 0px rgba(24, 144, 255, 0.2);\n    }\n  }\n  .ant-input-disabled {\n    border-color: ${theme.colors.DISABLE};\n    background-color: #f8f8f8;\n    color: ${theme.colors.SILVER};\n    &:hover {\n      border-color: ${theme.colors.DISABLE};\n    }\n  }\n  .ant-input-error {\n    border-color: #ff6060;\n  }\n`;\n\nclass Input extends Component {\n  static propTypes = {\n    placeholder: PropTypes.string,\n    maxLength: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n    maxLengthClassName: PropTypes.string,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    type: PropTypes.oneOf(['text', 'number', 'password', 'file']),\n    errors: PropTypes.array\n  };\n\n  static defaultProps = {\n    onChange: noop,\n    onFocus: noop,\n    errors: [],\n    type: 'text'\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: this.handleValue(this.props.value)\n    };\n  }\n\n  handleValue = value => {\n    let trimmedValue = isString(value) ? value.trim() : value;\n    trimmedValue = trimmedValue || '';\n    value = trimmedValue.length ? value : trimmedValue;\n    const { maxLength } = this.props;\n    if (maxLength) {\n      return maxLength <= value.length ? value : value.substring(0, maxLength);\n    }\n    return value;\n  };\n\n  onChange = event => {\n    const { onChange } = this.props;\n    const value = this.handleValue(event.target.value);\n    this.setState({ value });\n    onChange(event, value);\n  };\n\n  moveCaretAtEnd = e => {\n    var temp_value = e.target.value;\n    e.target.value = '';\n    e.target.value = temp_value;\n    this.props.onFocus(e);\n  };\n\n  componentWillMount() {\n    const { value = '' } = this.props;\n    this.setState({ value: this.handleValue(value) });\n  }\n\n  componentWillReceiveProps(newProps) {\n    const { value } = this.props;\n    let { value: newValue } = newProps;\n    if (newValue !== value) {\n      this.setState({ value: this.handleValue(newValue) });\n    }\n  }\n\n  render() {\n    const { errors, maxLength, maxLengthClassName } = this.props;\n    const { value } = this.state;\n    return (\n      <MtInput>\n        <AntInput\n          {...this.props}\n          value={value}\n          onChange={this.onChange}\n          onFocus={this.moveCaretAtEnd}\n        />\n        <div\n          key=\"maxLength\"\n          className={classnames(\n            { ['counterStyle']: maxLength, displayN: !maxLength },\n            maxLengthClassName\n          )}\n        >\n          {maxLength && maxLength - value.length}\n        </div>\n        <div\n          key=\"error\"\n          className={classnames(errors[0] ? 'error' : 'displayN')}\n        >\n          {errors[0]}\n        </div>\n      </MtInput>\n    );\n  }\n}\nInput.TextArea = AntInput.TextArea;\nexport default Input;\n"]}